# Starship Fleet Builder — Паттерн Прототип (Prototype)

## Назначение

Демонстрация паттерна Прототип на примере конструктора космических кораблей.
Новые корабли создаются путём клонирования существующих прототипов, а не через прямой вызов конструкторов.

## Структура паттерна

```
Starship (абстрактный класс — Прототип)
  ├── Fighter   (Конкретный прототип)
  ├── Cruiser   (Конкретный прототип)
  └── Bomber    (Конкретный прототип)
```

**Участники:**

| Участник  | Класс в проекте | Роль |
|---|---|---|
| Prototype | `Starship` | Абстрактный класс, объявляет метод `clone()` |
| ConcretePrototype | `Fighter`, `Cruiser`, `Bomber` | Реализуют `clone()`, возвращая копию самого себя |
| Client | `Shipyard` | Хранит прототипы и создаёт корабли через `clone()` |

## Ключевые классы

- **Starship** — абстрактный прототип. Хранит характеристики корабля (hull, shield, speed) и содержит связь с `WeaponSystem` (композиция). Метод `clone()` создаёт объект-копию.
- **Fighter / Cruiser / Bomber** — конкретные прототипы. Каждый переопределяет `clone()`, создавая независимый экземпляр своего типа.
- **WeaponSystem** — система вооружения (name, damage).
- **Color** — цвет корпуса корабля (ARGB).
- **Shipyard** — клиент паттерна. Хранит словарь прототипов-образцов, позволяет настраивать их характеристики (`CustomizePrototype()`) и создаёт новые корабли методом `BuildShip()`, который вызывает `clone()` на прототипе.
- **BattleEngine** — движок боя. Метод `RunBattle()` проводит бой между двумя флотами. Метод `GenerateEnemyFleet()` создаёт вражеский флот.

## Суть паттерна

```csharp
// Shipyard — клиент паттерна:
var shipyard = new Shipyard();                          // Верфь хранит прототипы

// Настраиваем прототип перед клонированием:
shipyard.CustomizePrototype("Fighter",
    name: "Alpha", hull: 80, shield: 40, speed: 200,
    color: Color.Red, weaponType: WeaponType.LaserCannon, damage: 30);

// Создаём корабль — клонируем настроенный прототип:
Starship ship = shipyard.BuildShip("Fighter");          // clone() внутри
// ship — независимая глубокая копия, прототип не затронут
```

Паттерн Прототип позволяет избежать привязки к конкретным классам при создании объектов и исключает дублирование кода инициализации.

